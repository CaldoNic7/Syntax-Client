(this["webpackJsonpsyntax-client"]=this["webpackJsonpsyntax-client"]||[]).push([[0],{67:function(e,t,n){},77:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(31),o=n.n(s),i=(n(67),n(62)),c=n(13),l=n(14),d=n(16),u=n(15),h=n(8),j=n(101),g=n(32),m=n(56),b=n(1),p=["user","component","render"],O=function(e){var t=e.user,n=e.component,a=e.render,r=Object(m.a)(e,p);return t&&a?Object(b.jsx)(h.b,Object(g.a)(Object(g.a)({},r),{},{render:a})):Object(b.jsx)(h.b,Object(g.a)(Object(g.a)({},r),{},{render:function(e){return t?Object(b.jsx)(n,Object(g.a)({},e)):Object(b.jsx)(h.a,{to:"/"})}}))},x=n(46),f=(n(77),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleClose=function(){return a.setState({show:!1})},a.state={show:!0},a.timeoutId=null,a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.timeoutId=setTimeout(this.handleClose,5e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.variant,n=e.heading,a=e.message,r=e.deleteAlert,s=e.id;return this.state.show||setTimeout((function(){r(s)}),300),Object(b.jsx)(x.a,{dismissible:!0,show:this.state.show,variant:t,onClose:this.handleClose,children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(x.a.Heading,{children:n}),Object(b.jsx)("p",{className:"alert-body",children:a})]})})}}]),n}(r.a.Component)),v=n(61),w=n(34),y=n(12),C={marginLeft:"17px",textDecoration:"none",color:"#F78536"},S=Object(b.jsx)(a.Fragment,{children:Object(b.jsx)(y.c,{to:"/sign-out",className:"nav-link",children:"Sign Out"})}),A=Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(y.c,{to:"/sign-up",className:"nav-link",children:"Sign Up"}),Object(b.jsx)(y.c,{to:"/sign-in",className:"nav-link",children:"Sign In"})]}),T=function(e){var t=e.user;return Object(b.jsxs)(w.a,{fixed:"bottom",bg:"dark",variant:"dark",expand:"md",children:[Object(b.jsx)(w.a.Brand,{children:Object(b.jsx)(y.b,{to:"/dashboard",style:C,children:"< SYNTAX />"})}),Object(b.jsx)(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(b.jsx)(w.a.Collapse,{id:"basic-navbar-nav",children:Object(b.jsx)(v.a,{className:"ml-auto",children:t?S:A})})]})},k={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"700px"},F={fontSize:"72px",color:"rgba(247, 133, 54, 1)"},P={fontSize:"24px",color:"#FFFFFF"},I=function(e){e.user;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{style:k,children:[Object(b.jsx)("h1",{style:F,children:"< SYNTAX />"}),Object(b.jsx)("p",{style:P,children:"Always missing a semicolon or curly brace in JavaScript? Can't ever get the indentation right in Python? Tired of having to pause to look down to find the carrot to open a tag instead of the carrot to close it? It's all about muscle memory baby! Syntax is here to help you set the goals, do the work and build that muscle memory you need to be a syntactically correct, code typing master."})]})})},U=n(24),N="https://syntax-typing-practice.herokuapp.com/",E="http://localhost:8000",q="localhost"===window.location.hostname?E:N,G=n(21),D=n.n(G),L=function(e){return D()({url:q+"/sign-in/",method:"POST",data:{credentials:{email:e.email,password:e.password}}})},z=n(6),H=n(102),K=n(60),R={position:"absolute",bottom:"50px",left:"2%",minWidth:"450px",minHeight:"500px",textAlign:"center",backgroundColor:"rgba(73, 114, 133, .7)",color:"#FFFFFF",borderRadius:"25px"},B={color:"#F78536"},W={position:"absolute",bottom:"50px",left:"2%",minWidth:"450px",minHeight:"500px",textAlign:"center",backgroundColor:"rgba(73, 114, 133, .7)",color:"#FFFFFF",borderRadius:"25px"},J={color:"#F78536"},M=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChange=function(e){return a.setState(Object(U.a)({},e.target.name,e.target.value))},a.onSignUp=function(e){e.preventDefault(),console.log("wtf is going on",e,a.state);var t,n=a.props,r=n.msgAlert,s=n.history,o=n.setUser;(t=a.state,D()({method:"POST",url:q+"/sign-up/",data:{credentials:{email:t.email,password:t.password,password_confirmation:t.passwordConfirmation}}})).then((function(){return L(a.state)})).then((function(e){return o(e.data.user)})).then((function(){return r({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"})})).then((function(){return s.push("/")})).catch((function(e){a.setState({email:"",password:"",password_confirmation:""}),r({heading:"Sign Up Failed with error: "+e.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"})}))},a.state={email:"",password:"",passwordConfirmation:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.passwordConfirmation;return Object(b.jsx)(H.a,{style:R,children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h3",{style:B,children:"Sign Up"}),Object(b.jsxs)(z.a,{onSubmit:this.onSignUp,children:[Object(b.jsxs)(z.a.Group,{controlId:"email",children:[Object(b.jsx)(z.a.Label,{children:"Email address"}),Object(b.jsx)(z.a.Control,{required:!0,type:"email",name:"email",value:t,placeholder:"Enter email",onChange:this.handleChange})]}),Object(b.jsxs)(z.a.Group,{controlId:"password",children:[Object(b.jsx)(z.a.Label,{children:"Password"}),Object(b.jsx)(z.a.Control,{required:!0,name:"password",value:n,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(b.jsxs)(z.a.Group,{controlId:"passwordConfirmation",children:[Object(b.jsx)(z.a.Label,{children:"Password Confirmation"}),Object(b.jsx)(z.a.Control,{required:!0,name:"passwordConfirmation",value:a,type:"password",placeholder:"Confirm Password",onChange:this.handleChange})]}),Object(b.jsx)(K.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})})}}]),n}(a.Component),Y=Object(h.f)(M),X=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChange=function(e){return a.setState(Object(U.a)({},e.target.name,e.target.value))},a.onSignIn=function(e){e.preventDefault();var t=a.props,n=t.msgAlert,r=t.history,s=t.setUser;L(a.state).then((function(e){return s(e.data.user)})).then((function(){return n({heading:"Sign In Success",message:"Welcome!",variant:"success"})})).then((function(){return r.push("/dashboard")})).catch((function(e){a.setState({email:"",password:""}),n({heading:"Sign In Failed with error: "+e.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"})}))},a.state={email:"",password:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return Object(b.jsx)(H.a,{style:W,children:Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h3",{style:J,children:"Sign In"}),Object(b.jsxs)(z.a,{onSubmit:this.onSignIn,children:[Object(b.jsxs)(z.a.Group,{controlId:"email",children:[Object(b.jsx)(z.a.Label,{children:"Email address"}),Object(b.jsx)(z.a.Control,{required:!0,type:"email",name:"email",value:t,placeholder:"Enter email",onChange:this.handleChange})]}),Object(b.jsxs)(z.a.Group,{controlId:"password",children:[Object(b.jsx)(z.a.Label,{children:"Password"}),Object(b.jsx)(z.a.Control,{required:!0,name:"password",value:n,type:"password",placeholder:"Password",onChange:this.handleChange})]}),Object(b.jsx)(K.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})})}}]),n}(a.Component),_=Object(h.f)(X),Q=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.msgAlert,n=e.history,a=e.clearUser;(function(e){return D()({url:q+"/sign-out/",method:"DELETE",headers:{Authorization:"TOKEN ".concat(e.token)}})})(e.user).finally((function(){return t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"})})).finally((function(){return a()})).finally((function(){return n.push("/")}))}},{key:"render",value:function(){return""}}]),n}(a.Component),V=Object(h.f)(Q),Z=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleChange=function(e){return a.setState(Object(U.a)({},e.target.name,e.target.value))},a.onChangePassword=function(e){e.preventDefault();var t=a.props,n=t.msgAlert,r=t.history,s=t.user;(function(e,t){return D()({url:q+"/change-pw/",method:"PATCH",headers:{Authorization:"TOKEN ".concat(t.token)},data:{passwords:{old:e.oldPassword,new:e.newPassword}}})})(a.state,s).then((function(){return n({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"})})).then((function(){return r.push("/")})).catch((function(e){a.setState({oldPassword:"",newPassword:""}),n({heading:"Change Password Failed with error: "+e.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"})}))},a.state={oldPassword:"",newPassword:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.oldPassword,n=e.newPassword;return Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(b.jsx)("h3",{children:"Change Password"}),Object(b.jsxs)(z.a,{onSubmit:this.onChangePassword,children:[Object(b.jsxs)(z.a.Group,{controlId:"oldPassword",children:[Object(b.jsx)(z.a.Label,{children:"Old password"}),Object(b.jsx)(z.a.Control,{required:!0,name:"oldPassword",value:t,type:"password",placeholder:"Old Password",onChange:this.handleChange})]}),Object(b.jsxs)(z.a.Group,{controlId:"newPassword",children:[Object(b.jsx)(z.a.Label,{children:"New Password"}),Object(b.jsx)(z.a.Control,{required:!0,name:"newPassword",value:n,type:"password",placeholder:"New Password",onChange:this.handleChange})]}),Object(b.jsx)(K.a,{variant:"primary",type:"submit",children:"Submit"})]})]})})}}]),n}(a.Component),$=Object(h.f)(Z),ee=function(e){return D()({method:"GET",url:q+"/goals/",headers:{Authorization:"TOKEN ".concat(e.token)}})},te=n(45),ne=n.n(te),ae=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).show=function(e){var t=a.props,n=t.user,r=t.msgAlert;(function(e,t){return D()({method:"GET",url:q+"/goals/".concat(t,"/"),headers:{Authorization:"TOKEN ".concat(e.token)}})})(n,e.id).then((function(){a.setState({goalToUpdate:e})})).catch((function(e){return r({heading:"Show failed",message:"Something went wrong: "+e.message,variant:"danger"})}))},a.handleChange=function(e){var t=e.target.name,n=e.target.value,r=Object.assign({},a.state.goalToUpdate);r[t]=n,a.setState({goalToUpdate:r})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.goalToUpdate,n=a.props,r=n.user,s=n.msgAlert;(function(e,t,n){return D()({method:"PATCH",url:q+"/goals/".concat(t,"/"),headers:{Authorization:"TOKEN ".concat(e.token)},data:{goal:{name:n.name,characters:n.characters,language:n.language,date:n.date,time:n.time,measurement:n.measurement,frequency:n.frequency}}})})(r,t.id,t).then((function(){ee(r).then((function(e){return a.setState({goals:e.data.goals,goalToUpdate:null})})).then((function(){return s({heading:"Success",message:"Here are your goals",variant:"success"})})).catch((function(e){return s({heading:"Index failed",message:"Something went wrong: "+e.message,variant:"danger"})}))})).catch((function(e){s({heading:"Goal update failed",message:"Something went wrong: "+e.message,variant:"danger"})}))},a.delete=function(e){var t=a.props,n=t.user,r=t.msgAlert;(function(e,t){return D()({method:"DELETE",url:q+"/goals/"+t,headers:{Authorization:"TOKEN ".concat(e.token)}})})(n,e).then((function(){var t=Object.assign({},a.state);t.goals=t.goals.filter((function(t){return t.id!==e})),a.setState({goals:t.goals,goalToUpdate:null})})).then((function(){return r({heading:"Delete success",message:"Chord deleted",variant:"success"})})).catch((function(e){return r({heading:"Delete failed",message:"Something went wrong: "+e.message,variant:"danger"})}))},a.daysRemaining=function(e){var t=ne()(e.date);return ne()(t).endOf("day").fromNow()},a.state={goals:null,goalToUpdate:null,languages:null},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.user,a=t.msgAlert;null!==n&&ee(n).then((function(t){return e.setState({goals:t.data.goals})})).then((function(){return a({heading:"Success",message:"Here are your goals",variant:"success"})})).catch((function(e){return a({heading:"Index failed",message:"Something went wrong: "+e.message,variant:"danger"})}))}},{key:"render",value:function(){var e,t,n=this,a=this.state.goals;if(null===this.state.goals)return Object(b.jsx)("p",{children:"Loading..."});var r=[];return 0===a.length?e=Object(b.jsx)("p",{children:" No Goals Set"}):(a.forEach((function(e){if(r.push(e),null!==n.state.goalToUpdate&&e.id===n.state.goalToUpdate.id){r.pop(e);var a=n.state.goalToUpdate,s=a.name,o=a.characters,i=a.language,c=a.date,l=a.time,d=a.measurement,u=a.frequency;t=Object(b.jsx)(H.a,{children:Object(b.jsxs)(z.a,{onSubmit:n.handleSubmit,children:[Object(b.jsx)(z.a.Group,{controlId:"name",style:{marginTop:"9px"},children:Object(b.jsx)(z.a.Control,{required:!0,name:"name",value:s,onChange:n.handleChange})}),Object(b.jsxs)(z.a.Group,{controlId:"characters",style:{marginTop:"9px"},children:[Object(b.jsx)("p",{children:"I want to type "}),Object(b.jsx)(z.a.Control,{required:!0,name:"characters",value:o,onChange:n.handleChange})]}),Object(b.jsxs)(z.a.Group,{controlId:"language",style:{marginTop:"9px"},children:[Object(b.jsx)("p",{children:" words per minute in"}),Object(b.jsx)(z.a.Control,{required:!0,name:"language",value:i,onChange:n.handleChange})]}),Object(b.jsxs)(z.a.Group,{controlId:"date",style:{marginTop:"9px"},children:[Object(b.jsx)("p",{children:", by"}),Object(b.jsx)(z.a.Control,{required:!0,name:"date",value:c,onChange:n.handleChange}),Object(b.jsx)("p",{children:"."})]}),Object(b.jsxs)(z.a.Group,{controlId:"time",style:{marginTop:"9px"},children:[Object(b.jsx)("p",{children:"I will achieve this goal by practicing"}),Object(b.jsx)(z.a.Control,{required:!0,name:"time",value:l,onChange:n.handleChange})]}),Object(b.jsx)(z.a.Group,{controlId:"measurement",style:{marginTop:"6px",marginBottom:"5px"},children:Object(b.jsx)(z.a.Control,{required:!0,name:"measurement",value:d,onChange:n.handleChange})}),Object(b.jsxs)(z.a.Group,{controlId:"frequency",style:{marginTop:"6px",marginBottom:"5px"},children:[Object(b.jsx)("p",{children:"every"}),Object(b.jsx)(z.a.Control,{required:!0,name:"frequency",value:u,onChange:n.handleChange}),Object(b.jsx)("p",{children:"."})]}),Object(b.jsxs)("div",{style:{marginLeft:"12px"},children:[Object(b.jsx)(K.a,{type:"submit",style:{marginTop:"11px"},children:"Submit"}),Object(b.jsx)(K.a,{onClick:function(){return n.delete(e.id)},style:{marginRight:"6px"},children:"Delete"})]})]})})}})),e=r.map((function(e){return Object(b.jsx)(H.a,{onClick:function(){return n.show(e)},children:Object(b.jsx)(H.a.Body,{children:Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(b.jsxs)(H.a.Title,{children:[e.name,": ",e.language]}),Object(b.jsxs)(H.a.Title,{children:["Due ",n.daysRemaining(e),"."]})]})})},e.id)}))),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(H.a,{children:Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"flex-start"},children:[Object(b.jsx)(K.a,{style:{margin:"5px"},onClick:function(){return n.props.history.push("/goal-create/")},children:"Set Goal"}),Object(b.jsx)(K.a,{style:{margin:"5px"},onClick:function(){return n.props.history.push("/change-pw/")},children:"Change Password"}),Object(b.jsx)(K.a,{style:{margin:"5px"},onClick:function(){return n.props.history.push("/sign-out/")},children:"Sign Out"})]})}),Object(b.jsxs)("div",{children:[t,e]})]})}}]),n}(r.a.Component),re=Object(h.f)(ae),se=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).setUser=function(e){return a.setState({user:e})},a.clearUser=function(){return a.setState({user:null})},a.deleteAlert=function(e){a.setState((function(t){return{msgAlerts:t.msgAlerts.filter((function(t){return t.id!==e}))}}))},a.msgAlert=function(e){var t=e.heading,n=e.message,r=e.variant,s=Object(j.a)();a.setState((function(e){return{msgAlerts:[].concat(Object(i.a)(e.msgAlerts),[{heading:t,message:n,variant:r,id:s}])}}))},a.state={user:null,msgAlerts:[]},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.msgAlerts,r=t.user;return Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(T,{user:r}),n.map((function(t){return Object(b.jsx)(f,{heading:t.heading,variant:t.variant,message:t.message,id:t.id,deleteAlert:e.deleteAlert},t.id)})),Object(b.jsxs)("main",{className:"container",children:[Object(b.jsx)(h.b,{path:"/sign-up",render:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(Y,{msgAlert:e.msgAlert,setUser:e.setUser}),Object(b.jsx)(I,{})]})}}),Object(b.jsx)(h.b,{path:"/sign-in",render:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(_,{msgAlert:e.msgAlert,setUser:e.setUser}),Object(b.jsx)(I,{})]})}}),Object(b.jsx)(h.b,{path:"/",exact:!0,render:function(){return Object(b.jsx)(I,{})}}),Object(b.jsx)(O,{user:r,path:"/sign-out",render:function(){return Object(b.jsx)(V,{msgAlert:e.msgAlert,clearUser:e.clearUser,user:r})}}),Object(b.jsx)(O,{user:r,path:"/change-pw",render:function(){return Object(b.jsx)($,{msgAlert:e.msgAlert,user:r})}}),Object(b.jsx)(O,{user:r,path:"/dashboard",render:function(){return Object(b.jsx)(re,{msgAlert:e.msgAlert,user:r})}})]})]})}}]),n}(a.Component),oe=Object(b.jsx)(y.a,{basename:"/Syntax-Client",children:Object(b.jsx)(se,{})});o.a.render(oe,document.getElementById("root"))}},[[98,1,2]]]);
//# sourceMappingURL=main.02a7c68e.chunk.js.map